{% from "global-vars.html" import site_name, site_twitter_account, main_nav_links %}
{% macro facebook_button_javascript() -%}
    <div id="fb-root"></div>
	<script>(function(d, s, id) {
	  var js, fjs = d.getElementsByTagName(s)[0];
	  if (d.getElementById(id)) return;
	  js = d.createElement(s); js.id = id;
	  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=874973169228961";
	  fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));</script>
{%- endmacro %}

{% macro facebook_button() -%}
    <div
		class="fb-like"
        data-href="https://developers.facebook.com/docs/plugins/"
        data-layout="button_count"
        data-action="like"
        data-show-faces="true"
        data-share="true"></div>
{%- endmacro %}

{% macro twitter_share_button(url=site_name) -%}
    <a class="twitter-share-button"
       href="https://twitter.com/share"
       data-url="{{ url }}">
        Tweet
    </a>
    <script>
        window.twttr = (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0], t = window.twttr || {};
            if (d.getElementById(id))return t;
            js = d.createElement(s);
            js.id = id;
            js.src = "https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js, fjs);
            t._e = [];
            t.ready = function (f) {
                t._e.push(f);
            };
            return t;
        }(document, "script", "twitter-wjs"));
    </script>
{%- endmacro %}

{% macro twitter_follow_button(account=site_twitter_account) -%}
	<a class="twitter-follow-button"
	  href="https://twitter.com/{{ account }}"
	  data-show-count="false"
	  data-lang="en">
	Follow @{{ account }}
	</a>
    <script>window.twttr = (function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0], t = window.twttr || {};
        if (d.getElementById(id))return t;
        js = d.createElement(s);
        js.id = id;
        js.src = "https://platform.twitter.com/widgets.js";
        fjs.parentNode.insertBefore(js, fjs);
        t._e = [];
        t.ready = function (f) {
            t._e.push(f);
        };
        return t;
    }(document, "script", "twitter-wjs"));</script>
{%- endmacro %}


{% macro navigation_bar(links=main_nav_links) -%}
	<ul class="nav navbar-nav">
        {% for display, link, extra_attributes in links %}
            <li class="nav-item {{ extra_attributes }}">
                <a class="scrollto" href="{{ link }}">{{ display }}</a>
            </li>
        {% endfor %}
	</ul>
{%- endmacro %}

{% macro flash_messages() -%}
	{% with messages = get_flashed_messages(with_categories=true) %}
		{% if messages %}
			{% for category, message in messages %}
				{{ message }}
				<br/>
			{% endfor %}
		{% endif %}
	{% endwith %}
{%- endmacro %}